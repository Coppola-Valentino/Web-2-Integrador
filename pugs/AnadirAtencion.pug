doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        title Plan Atencion
    body(style="background: rgb(184, 253, 219);")
        include bar.pug
        +bar()
        block content
        div(style="max-width: 960px; margin: 0 auto; display: flex; justify-content: space-between; flex-direction: column; horizontal-align: center; padding-top: 95px;")
         h1 Añadir Plan de Atencion
         form(action=`/InPac/${pac.IDPaciente}/AnadirAtencion/${int.IDIntern}` method="POST" id="formi" style="display: flex; flex-direction: column; gap: 1px;" )
          label(for="FechaInicio") Fecha de Inicio: 
           input(type="date" name="FechaInicio" id="FechaInicio" required)
          br
          label(for="FechaFin") Fecha de Fin: 
           input(type="date" name="FechaFin" id="FechaFin" required)
          br
          label(for="Tratamiento") Tratamiento: 
           input(type="text" name="Tratamiento" id="Tratamiento")
          br
          label(for="Terapia") Terapia: 
           input(type="text" name="Terapia" id="Terapia")
          br
          label(for="Intervenciones") Intervenciones Inmediatas: 
           input(type="text" name="Intervenciones" id="Intervenciones")
          br
          label(for="Cuidados") Cuidados de Enfermeria: 
           input(type="text" name="Cuidados" id="Cuidados")
          br
          input(type="hidden" name="tipo" id="tipo" value=tipo)
          button(class="btn btn-primary" type="submit") Guardar
          br
          a.btn.btn-warning(href="/inPac") Cancelar
          script.
                document.getElementById('formi').addEventListener('submit', function(event) {
                 const FechIni = document.getElementById('FechaInicio');
                 const FechFin = document.getElementById('FechaFin');
                 const Trat = document.getElementById('Tratamiento');
                 const Tera = document.getElementById('Terapia');
                 const Interv = document.getElementById('Intervenciones');
                 const Cuid = document.getElementById('Cuidados');
                 const FechInicio = new Date(FechIni.value);
                 const FechFinal = new Date(FechFin.value);
                 const hoy = new Date();
                 if (FechInicio < hoy) {
                   alert('Fecha de Inicio Invalida');
                   event.preventDefault();
                 }
                 if (FechFinal < FechInicio) {
                  alert('Fecha de Fin invalida');
                  event.preventDefault();
                 }
                 if (Trat.value.length > 250) {
                   alert('El Tratamiento no puede tener más de 250 caracteres');
                   event.preventDefault();
                 }
                 if (Tera.value.length > 250) {
                   alert('La Terapia no puede tener más de 250 caracteres');
                   event.preventDefault();
                 }
                 if (Interv.value.length > 250) {
                   alert('La Intervencion no puede tener más de 250 caracteres');
                   event.preventDefault();
                 }
                 if (Cuid.value.length > 250) {
                   alert('Los Cuidados no pueden tener más de 250 caracteres');
                   event.preventDefault();
                 }
                 });